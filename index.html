<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>H·ªì Ch√≠ Minh - H√†nh tr√¨nh t√¨m ƒë∆∞·ªùng c·ª©u n∆∞·ªõc v√† gi·∫£i ph√≥ng d√¢n t·ªôc</title>
    <!-- Google Fonts - Noto Sans h·ªó tr·ª£ ti·∫øng Vi·ªát t·ªët nh·∫•t -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;500;600;700&family=Noto+Sans+Display:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css"
    />
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body>
    <div id="container">
      <!-- B·∫£n ƒë·ªì -->
      <div id="map" class="panel-visible"></div>

      <!-- V√πng ph√°t hi·ªán hover (PC) -->
      <div id="stats-hover-area"></div>

      <!-- B·∫£ng th·ªëng k√™ (PC) -->
      <div id="stats-panel">
        <h4 style="margin-bottom: 12px; color: #2c3e50">Th·ªëng k√™ h√†nh tr√¨nh</h4>
        <div class="stats-item">
          <span class="stats-label">T·ªïng s·ª± ki·ªán:</span>
          <span class="stats-value" id="total-events">-</span>
        </div>
        <div class="stats-item">
          <span class="stats-label">S·ªë l·∫ßn di chuy·ªÉn:</span>
          <span class="stats-value" id="movement-count">-</span>
        </div>
        <div class="stats-item">
          <span class="stats-label">T·ªânh/th√†nh ƒë√£ ƒë·∫øn:</span>
          <span class="stats-value" id="visited-places">-</span>
        </div>
        <div class="stats-item">
          <span class="stats-label">Di chuy·ªÉn qu·ªëc t·∫ø:</span>
          <span class="stats-value" id="international-count">-</span>
        </div>
        <div class="stats-item">
          <span class="stats-label">Kho·∫£ng th·ªùi gian:</span>
          <span class="stats-value" id="time-span">-</span>
        </div>
        
        <!-- B·ªô ƒë·∫øm l∆∞·ª£t truy c·∫≠p -->
        <div class="visitor-counter-section" style="margin-top: 16px; padding-top: 16px; border-top: 1px solid rgba(0,0,0,0.1);">
          <div class="stats-item" style="background: linear-gradient(135deg, rgba(200, 16, 46, 0.1), rgba(200, 16, 46, 0.05)); padding: 8px 12px; border-radius: 8px; margin-bottom: 8px;">
            <div id="visitor-counter-container" style="display: inline-block; margin-left: 8px;">
              <script type='text/javascript' src='https://www.freevisitorcounters.com/auth.php?id=46296358e6d8f651658e0de28b2fd64007cdcc51'></script>
<script type="text/javascript" src="https://www.freevisitorcounters.com/en/home/counter/1436564/t/7"></script>
            </div>
          </div>
        </div>

        <!-- C√†i ƒë·∫∑t animation -->
        <div class="animation-settings">
          <h5 style="color: #2c3e50; margin-bottom: 8px; font-size: 12px">
            C√†i ƒë·∫∑t animation
          </h5>
          <div class="animation-control">
            <label>T·ªëc ƒë·ªô v·∫Ω ƒë∆∞·ªùng ƒëi:</label>
            <input
              type="range"
              id="path-duration"
              min="200"
              max="10000"
              value="5000"
              step="100"
            />
            <span class="value-display" id="path-duration-display">5.0s</span>
          </div>

          <div class="animation-control">
            <label>T·ªëc ƒë·ªô camera theo d√µi:</label>
            <input
              type="range"
              id="camera-speed-slider"
              min="0"
              max="3"
              value="1"
              step="1"
            />
            <span class="value-display" id="camera-speed-display">B√¨nh th∆∞·ªùng</span>
          </div>
        </div>
        <div class="camera-follow-control">
          <h5>ƒêi·ªÅu khi·ªÉn camera</h5>
          <div class="camera-toggle">
            <label for="camera-follow-switch"> üìπ Camera theo d√µi </label>
            <div class="camera-switch active" id="camera-follow-switch"></div>
            <span class="camera-status" id="camera-follow-status">B·∫≠t</span>
          </div>
        </div>
      </div>

      <!-- N√∫t chuy·ªÉn ƒë·ªïi b·∫£ng ƒëi·ªÅu khi·ªÉn (Mobile) -->
      <button
        id="toggle-panel-btn"
        class="toggle-panel-btn"
        title="Chuy·ªÉn ƒë·ªïi b·∫£ng ƒëi·ªÅu khi·ªÉn"
      >
        ‚öô
      </button>

      <!-- N√∫t ph√°t nh·∫°c -->
      <button id="music-btn" class="music-btn" title="Nh·∫°c n·ªÅn">üéµ</button>

      <!-- N√∫t ph·∫£n h·ªìi -->
      <button id="feedback-btn" class="feedback-btn" title="Ph·∫£n h·ªìi">
        üí¨
      </button>

      <!-- ƒêi·ªÅu khi·ªÉn d√≤ng th·ªùi gian -->
      <div id="timeline-control">
        <!-- Th√¥ng tin s·ª± ki·ªán hi·ªán t·∫°i (Mobile) -->
        <div class="current-event-section">
          <div class="event-info-row">
            <div class="event-date-mobile" id="event-date-mobile">
              ƒêang t·∫£i...
            </div>
            <div class="event-location-mobile" id="event-location-mobile">
              ƒêang t·∫£i...
            </div>
          </div>
          <div class="event-info-row">
            <div class="event-title-mobile" id="event-title-mobile">
              ƒêang t·∫£i...
            </div>
          </div>
          <div class="progress-info-mobile">
            <div class="info-item">
              <span class="info-label">S·ª± ki·ªán:</span>
              <span class="info-value">
                <span id="current-event-index-mobile">1</span>/<span
                  id="total-event-count-mobile"
                  >-</span
                >
              </span>
            </div>
            <div class="info-item">
              <span class="info-label">Tu·ªïi:</span>
              <span class="info-value">
                <span id="current-age-mobile">0</span
                ><span class="info-unit"> tu·ªïi</span>
              </span>
            </div>
            <div class="info-item">
              <span class="info-label">Ti·∫øn ƒë·ªô:</span>
              <span class="info-value" id="current-progress-mobile">0%</span>
            </div>
          </div>
        </div>

        <div class="timeline-info">
          <div class="time-point start">
            <span class="label">B·∫Øt ƒë·∫ßu</span>
            <span class="value">1890-05-19</span>
          </div>

          <!-- V√πng chi ti·∫øt s·ª± ki·ªán hi·ªán t·∫°i (PC) -->
          <div class="current-event-details">
            <div class="event-date" id="event-date">ƒêang t·∫£i...</div>
            <div class="event-title" id="event-title">ƒêang t·∫£i...</div>
            <div class="event-location" id="event-location">ƒêang t·∫£i...</div>
          </div>

          <div class="time-point end">
            <span class="label">K·∫øt th√∫c</span>
            <span class="value">1969-09-02</span>
          </div>
        </div>

        <div class="player-controls">
          <div class="player-controls-row">
            <!-- N√∫t ƒëi·ªÅu khi·ªÉn ph√°t -->
            <div class="player-buttons">
              <button class="player-btn" id="prev-btn" title="S·ª± ki·ªán tr∆∞·ªõc">
                ‚èÆ
              </button>
              <button class="player-btn" id="play-btn" title="Ph√°t">‚ñ∂</button>
              <button class="player-btn" id="next-btn" title="S·ª± ki·ªán ti·∫øp theo">
                ‚è≠
              </button>
            </div>

            <!-- ƒêi·ªÅu khi·ªÉn t·ªëc ƒë·ªô (Mobile) -->
            <div class="speed-control">
              <button class="speed-btn" data-speed="500">Nhanh</button>
              <button class="speed-btn active" data-speed="1000">B√¨nh th∆∞·ªùng</button>
              <button class="speed-btn" data-speed="2000">Ch·∫≠m</button>
            </div>
          </div>

          <!-- V√πng thanh ti·∫øn ƒë·ªô -->
          <div class="progress-section">
            <div class="progress-container">
              <input
                type="range"
                id="timeline-slider"
                min="0"
                max="100"
                value="0"
                tabindex="0"
                title="S·ª≠ d·ª•ng ph√≠m m≈©i t√™n tr√°i/ph·∫£i ho·∫∑c k√©o ƒë·ªÉ ƒëi·ªÅu khi·ªÉn d√≤ng th·ªùi gian"
              />
            </div>
            <div class="progress-details">
              <span class="progress-item"
                >S·ª± ki·ªán: <span id="current-event-index-desktop">1</span>/<span
                  id="total-event-count-desktop"
                  >-</span
                ></span
              >
              <span class="progress-item"
                >Tu·ªïi: <span id="current-age-desktop">0</span> tu·ªïi</span
              >
              <span class="progress-item"
                >Ti·∫øn ƒë·ªô: <span id="current-progress-desktop">0%</span></span
              >
            </div>
          </div>

          <!-- ƒêi·ªÅu khi·ªÉn t·ªëc ƒë·ªô (PC) -->
          <div class="player-speed">
            <label class="speed-label">T·ªëc ƒë·ªô ph√°t:</label>
            <div class="custom-select-wrapper">
              <div
                class="custom-select"
                id="custom-speed-select"
                data-value="1000"
              >
                <div class="select-display">
                  <span class="select-text">B√¨nh th∆∞·ªùng</span>
                  <span class="select-arrow">‚ñº</span>
                </div>
                <div class="select-dropdown">
                  <div class="select-option" data-value="500">R·∫•t nhanh</div>
                  <div class="select-option selected" data-value="1000">
                    B√¨nh th∆∞·ªùng
                  </div>
                  <div class="select-option" data-value="2000">Ch·∫≠m</div>
                  <div class="select-option" data-value="3000">R·∫•t ch·∫≠m</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- L·ªõp ph·ªß n·ªÅn c·ª≠a s·ªï nh·∫°c -->
      <div id="music-backdrop" class="music-backdrop"></div>

      <!-- C·ª≠a s·ªï ph√°t nh·∫°c -->
      <div id="music-modal" class="music-modal">
        <div class="music-modal-header">
          <h3>üéµ Nh·∫°c n·ªÅn</h3>
          <button class="music-modal-close" id="music-modal-close" title="ƒê√≥ng">
            √ó
          </button>
        </div>
        <div class="music-modal-content">
          <!-- Th√¥ng tin b√†i h√°t ƒëang ph√°t -->
          <div class="current-song-info">
            <div class="song-title" id="current-song-title">Vui l√≤ng ch·ªçn b√†i h√°t</div>
            <div class="song-artist" id="current-song-artist">-</div>
          </div>

          <!-- ƒêi·ªÅu khi·ªÉn ph√°t nh·∫°c -->
          <div class="music-controls">
            <button
              class="music-control-btn"
              id="music-prev-btn"
              title="B√†i tr∆∞·ªõc"
            >
              ‚èÆ
            </button>
            <button
              class="music-control-btn music-play-btn"
              id="music-play-btn"
              title="Ph√°t"
            >
              ‚ñ∂
            </button>
            <button
              class="music-control-btn"
              id="music-next-btn"
              title="B√†i ti·∫øp theo"
            >
              ‚è≠
            </button>
          </div>

          <!-- Thanh ti·∫øn ƒë·ªô nh·∫°c -->
          <div class="music-progress-container">
            <div class="music-progress-bar">
              <div class="music-progress-fill" id="music-progress-fill"></div>
            </div>
            <div class="music-time-info">
              <span id="music-current-time">00:00</span>
              <span id="music-total-time">00:00</span>
            </div>
          </div>

          <!-- ƒêi·ªÅu khi·ªÉn √¢m l∆∞·ª£ng -->
          <div class="music-volume-control">
            <span class="volume-icon">üîä</span>
            <input
              type="range"
              id="music-volume-slider"
              min="0"
              max="100"
              value="50"
              class="volume-slider"
            />
            <span class="volume-value" id="music-volume-value">50%</span>
          </div>

          <!-- Danh s√°ch b√†i h√°t -->
          <div class="music-playlist">
            <h4>Danh s√°ch ph√°t</h4>
            <div class="playlist-items" id="music-playlist-items"></div>
          </div>

          <!-- T·∫£i nh·∫°c c·ª•c b·ªô -->
          <div class="music-upload-section">
            <h4>Nh·∫°c c·ª•c b·ªô</h4>
            <div class="upload-area">
              <input
                type="file"
                id="music-file-input"
                accept="audio/*"
                style="display: none"
              />
              <button class="upload-btn" id="music-upload-btn">
                üìÅ Ch·ªçn file nh·∫°c c·ª•c b·ªô
              </button>
              <p class="upload-hint">H·ªó tr·ª£ ƒë·ªãnh d·∫°ng MP3, WAV, OGG</p>
            </div>
          </div>
        </div>
      </div>

      <!-- L·ªõp ph·ªß n·ªÅn c·ª≠a s·ªï ph·∫£n h·ªìi -->
      <div id="feedback-backdrop" class="feedback-backdrop"></div>

      <!-- C·ª≠a s·ªï ph·∫£n h·ªìi -->
      <div id="feedback-modal" class="feedback-modal">
        <div class="feedback-modal-header">
          <h3>üí¨ Ph·∫£n h·ªìi</h3>
          <button
            class="feedback-modal-close"
            id="feedback-modal-close"
            title="ƒê√≥ng"
          >
            √ó
          </button>
        </div>
        <div class="feedback-modal-content">
          <div class="feedback-item" id="feedback-issues">
            <div class="feedback-icon">üõ†Ô∏è</div>
            <div class="feedback-info">
              <div class="feedback-title">Ph·∫£n h·ªìi v·∫•n ƒë·ªÅ</div>
              <div class="feedback-desc">B√°o l·ªói ho·∫∑c ƒë·ªÅ xu·∫•t c·∫£i thi·ªán</div>
            </div>
            <div class="feedback-arrow">‚Üí</div>
          </div>

          <div class="feedback-item" id="feedback-project">
            <div class="feedback-icon">‚≠ê</div>
            <div class="feedback-info">
              <div class="feedback-title">Trang ch·ªß d·ª± √°n</div>
              <div class="feedback-desc">Xem m√£ ngu·ªìn v√† t√†i li·ªáu</div>
            </div>
            <div class="feedback-arrow">‚Üí</div>
          </div>

          <div class="feedback-item" id="feedback-wechat">
            <div class="feedback-icon">üì±</div>
            <div class="feedback-info">
              <div class="feedback-title">Theo d√µi t√†i kho·∫£n c√¥ng khai</div>
              <div class="feedback-desc">Trao ƒë·ªïi th·∫£o lu·∫≠n</div>
            </div>
            <div class="feedback-arrow">‚Üí</div>
          </div>
        </div>
      </div>

      <!-- L·ªõp ph·ªß n·ªÅn b·∫£ng chi ti·∫øt -->
      <div id="panel-backdrop" class="panel-backdrop"></div>

      <!-- B·∫£ng th√¥ng tin chi ti·∫øt -->
      <div id="location-detail-panel" class="location-detail-panel">
        <div class="panel-header">
          <div class="panel-drag-handle"></div>
          <h3 id="panel-location-title">Chi ti·∫øt ƒë·ªãa ƒëi·ªÉm</h3>
          <div class="visit-summary" id="panel-visit-summary">
            T√≠nh ƒë·∫øn th·ªùi ƒëi·ªÉm hi·ªán t·∫°i c√≥ t·ªïng c·ªông <span class="visit-count-highlight">0</span> b·∫£n ghi li√™n quan
          </div>
          <button class="panel-close" id="panel-close-btn" title="ƒê√≥ng">
            √ó
          </button>
        </div>
        <div class="panel-content" id="panel-content">
          <!-- Danh s√°ch s·ª± ki·ªán -->
        </div>
      </div>

      <!-- Th√¥ng b√°o t·∫£i -->
      <div id="loading">
        <div class="loading-spinner"></div>
        <div class="loading-text">ƒêang t·∫£i d·ªØ li·ªáu h√†nh tr√¨nh...</div>
      </div>

      <!-- Popup hi·ªÉn th·ªã th√¥ng tin event khi ƒë·∫øn ƒë·ªãa ƒëi·ªÉm -->
      <div id="event-popup" class="event-popup">
        <div class="event-popup-content">
          <div class="event-popup-header">
            <div class="event-popup-date" id="event-popup-date">1890-05-19</div>
            <div class="event-popup-age" id="event-popup-age">Tu·ªïi: 0</div>
          </div>
          <div class="event-popup-location" id="event-popup-location">ƒê·ªãa ƒëi·ªÉm</div>
          <div class="event-popup-title" id="event-popup-title">S·ª± ki·ªán</div>
          <div class="event-popup-progress">
            <div class="event-popup-progress-bar">
              <div class="event-popup-progress-fill" id="event-popup-progress-fill"></div>
            </div>
            <div class="event-popup-progress-text" id="event-popup-progress-text">6s</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Ph·∫ßn t·ª≠ √¢m thanh -->
    <audio id="music-audio" preload="none"></audio>

    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- Plugin h·ªó tr·ª£ Google Maps cho Leaflet -->
    <script src="https://unpkg.com/leaflet.gridlayer.googlemutant@0.15.0/dist/Leaflet.GoogleMutant.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/Igor-Vladyka/leaflet.motion/dist/leaflet.motion.min.js"></script>
    
    <!-- B·ªô ƒë·∫øm l∆∞·ª£t truy c·∫≠p t·ª´ freevisitorcounters.com -->
    <script type='text/javascript' src='https://www.freevisitorcounters.com/auth.php?id=46296358e6d8f651658e0de28b2fd64007cdcc51'></script>
    <script type="text/javascript" src="https://www.freevisitorcounters.com/en/home/counter/1436564/t/7"></script>
    
    <script src="assets/js/app.js"></script>
  </body>
</html>
